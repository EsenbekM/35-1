
{% extends 'index.html' %}

{% block content %}

<h1>Post List</h1>

<form action="" method="get">
    <input type="text" name="search" placeholder="Search">
    <button type="submit">Search</button>
</form>


<a href="?order=date" method="get">
    By date ASC
</a>

<a href="?order=-date" method="get">
    By date DESC
</a>

<a href="?order=rate" method="get">
    By rate ASC
</a>


{% for post in posts %}
    
    <div class="card" style="width: 18rem;">
        <img src="/media/{{ post.image }}" class="card-img-top" alt="...">
        <div class="card-body">
            <h5 class="card-title">{{ post.title }} {{ post.rate }}</h5>
            <p class="card-text">{{ post.text }}</p>
            <p class="card-text">{{ post.created_at }}</p>
            {% for hashtag in post.hashtags.all %}
                <a class="btn btn-primary" href="#">
                    <p>
                        #{{ hashtag.name }}
                    </p>
                </a>
            {% endfor %}

            <a href="{{ post.id }}/" class="btn btn-primary">View detail</a>
        </div>
    </div>

{% endfor %}


<div>
    {% for page in max_page %}
        <a href="?page={{ page }}" method="get">
            {{ page }}
        </a>
    {% endfor %}
</div>

{% endblock %}
